import{a as x}from"./chunk-2IOIDHVL.js";import{c as S}from"./chunk-LO7O7CUV.js";import{a as O,b as j,c as q,d as G,e as V,f as R,g as W,h as z}from"./chunk-R4VHEHPL.js";import{a as w,b as d,d as F,e as L,g as B,h as T,k,l as P,m as D}from"./chunk-LGM5CEDA.js";import"./chunk-XAZLOLJU.js";import{a as A,b as N}from"./chunk-VELDWVFK.js";import"./chunk-IV7TI2HX.js";import{F as E,I}from"./chunk-DFGM75CN.js";import{Gb as i,Ib as y,Kb as C,Oa as m,Ya as M,aa as p,ca as _,cb as s,gc as b,hb as l,mb as r,nb as t,ob as f,ub as v,wb as h}from"./chunk-QXLJQPYW.js";function Z(e,n){e&1&&(r(0,"mat-error"),i(1," Wpisz e-mail. "),t())}function J(e,n){e&1&&(r(0,"mat-error"),i(1," Niepoprawny adres. "),t())}function K(e,n){e&1&&(r(0,"mat-error"),i(1," Wpisz has\u0142o. "),t())}function Q(e,n){if(e&1&&(r(0,"p",8),i(1),t()),e&2){let o=h();m(),y(" ",o.errorMessage()," ")}}var H=class e{errorMessage=M("");fb=p(P);authService=p(x);router=p(S);snackBar=p(W);form=this.fb.nonNullable.group({email:["",[d.required,d.email]],password:["",d.required]});submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let{email:n,password:o}=this.form.getRawValue();if(this.authService.login(n,o)){this.errorMessage.set(""),this.snackBar.open("Witaj w panelu!",void 0,{duration:2500}),this.router.navigate(["/admin"]);return}this.errorMessage.set("Niepoprawny e-mail lub has\u0142o.")}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=_({type:e,selectors:[["app-admin-login"]],standalone:!0,features:[C],decls:19,vars:5,consts:[[1,"admin-login"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","formControlName","email","type","email"],[4,"ngIf"],["matInput","","formControlName","password","type","password"],["class","error",4,"ngIf"],["mat-flat-button","","type","submit",1,"pill-button","pill-button--primary"],[1,"error"]],template:function(o,a){if(o&1&&(r(0,"section",0)(1,"mat-card")(2,"h1"),i(3,"Panel administratora"),t(),r(4,"form",1),v("ngSubmit",function(){return a.submit()}),r(5,"mat-form-field",2)(6,"mat-label"),i(7,"E-mail"),t(),f(8,"input",3),s(9,Z,2,0,"mat-error",4)(10,J,2,0,"mat-error",4),t(),r(11,"mat-form-field",2)(12,"mat-label"),i(13,"Has\u0142o"),t(),f(14,"input",5),s(15,K,2,0,"mat-error",4),t(),s(16,Q,2,1,"p",6),r(17,"button",7),i(18," Zaloguj "),t()()()()),o&2){let u,c,g;m(4),l("formGroup",a.form),m(5),l("ngIf",(u=a.form.get("email"))==null?null:u.hasError("required")),m(),l("ngIf",(c=a.form.get("email"))==null?null:c.hasError("email")),m(5),l("ngIf",(g=a.form.get("password"))==null?null:g.hasError("required")),m(),l("ngIf",a.errorMessage())}},dependencies:[D,B,w,F,L,T,k,N,A,G,q,O,j,R,V,I,E,z,b],styles:[".admin-login[_ngcontent-%COMP%]{min-height:calc(100vh - 80px);display:flex;align-items:center;justify-content:center;padding:4rem 1rem}mat-card[_ngcontent-%COMP%]{background:var(--color-card);border:1px solid var(--color-border);width:min(420px,100%);padding:2rem}h1[_ngcontent-%COMP%]{margin-top:0;letter-spacing:.08em}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.error[_ngcontent-%COMP%]{color:var(--color-error);margin:0}"]})};export{H as AdminLoginComponent};
